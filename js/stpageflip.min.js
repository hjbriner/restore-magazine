/*! St.PageFlip v1.1.0 | (c) 2019 Nodlik | MIT License */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).St={})})(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i=function(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var s=function(){function t(e){n(this,t),this.options=e,this.pages=[],this.width=this.options.width||600,this.height=this.options.height||800,this.size=this.options.size||"stretch",this.minWidth=this.options.minWidth||315,this.minHeight=this.options.minHeight||400,this.maxWidth=this.options.maxWidth||1e3,this.maxHeight=this.options.maxHeight||1500,this.maxShadowOpacity=this.options.maxShadowOpacity||.5,this.showCover=!!this.options.showCover,this.mobileScrollSupport=!!this.options.mobileScrollSupport,this.pageFlipContainer=document.createElement("div"),this.pageFlipContainer.style.position="relative",this.pageFlipContainer.style.width="100%",this.pageFlipContainer.style.height="100%",this.pageFlipContainer.style.overflow="hidden",this.pageFlipContainer.style.touchAction="pan-y",this.pageFlipContainer.style.userSelect="none",this.pageFlipContainer.style.webkitUserSelect="none",this.pageFlipContainer.style.MozUserSelect="none",this.pageFlipContainer.style.msUserSelect="none",this.pageFlipContainer.style.backgroundColor=this.options.backgroundColor||"#fff",this.pageFlipContainer.style.boxShadow="0 0 10px rgba(0,0,0,0.3)",this.pageFlipContainer.style.borderRadius="8px",this.pageFlipContainer.style.margin="0 auto",this.pageFlipContainer.style.zIndex="10",this.pageFlipContainer.style.transition="box-shadow 0.3s",this.pageFlipContainer.style.outline="none",this.pageFlipContainer.style.willChange="transform",this.pageFlipContainer.tabIndex=0,this.container=this.options.container,this.container.appendChild(this.pageFlipContainer),this.currentPage=1,this.pageCount=0,this.isMobile="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,this.mobileScrollSupport&&this.isMobile&&(this.pageFlipContainer.style.overflowX="auto",this.pageFlipContainer.style.touchAction="auto"),this.init()}return o(t,[{key:"init",value:function(){this.createPages()}},{key:"createPages",value:function(){this.pages=[],this.pageCount=this.options.pages||0,this.showCover?this.pageCount<2&&(this.pageCount=2):this.pageCount<1&&(this.pageCount=1);for(var t=1;t<=this.pageCount;t++){var e=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.backgroundSize="cover",e.style.backgroundPosition="center center",e.style.backgroundRepeat="no-repeat",e.style.boxShadow="0 0 20px rgba(0,0,0,0.3)",e.style.borderRadius="8px",e.style.transition="transform 0.6s ease",e.style.transformOrigin="left center",e.style.zIndex=100-t,this.pageFlipContainer.appendChild(e),this.pages.push(e)}this.updateSize()}},{key:"loadFromImages",value:function(t){var e=this;this.options.pages=t.length,this.createPages(),t.forEach(function(t,i){e.pages[i].style.backgroundImage="url('"+t+"')"}),this.updateSize()}},{key:"updateSize",value:function(){var t=this.container.clientWidth,e=this.container.clientHeight,i=this.width,n=this.height;this.size||(this.size="stretch");var r,o;if("stretch"===this.size){r=t,o=e}else{var s=i/n,a=t/o;r=s>a?t:i,o=a*t,n=o}r=Math.min(Math.max(r,this.minWidth),this.maxWidth),o=Math.min(Math.max(o,this.minHeight),this.maxHeight),this.pageFlipContainer.style.width=r+"px",this.pageFlipContainer.style.height=o+"px"}},{key:"turnPage",value:function(t){var e=this;this.currentPage=Math.min(Math.max(1,t),this.pageCount),this.pages.forEach(function(t,i){var n=e.currentPage;return i+1<=n?void(t.style.transform="rotateY(0deg) translateX(0px)"):void(t.style.transform="rotateY(-180deg) translateX(-100%)")})}},{key:"nextPage",value:function(){this.turnPage(this.currentPage+1)}},{key:"prevPage",value:function(){this.turnPage(this.currentPage-1)}},{key:"goToPage",value:function(t){this.turnPage(t)}},{key:"destroy",value:function(){this.container.removeChild(this.pageFlipContainer),this.pages=[]}}]),t}();t.PageFlip=s,Object.defineProperty(t,"__esModule",{value:!0})}));
